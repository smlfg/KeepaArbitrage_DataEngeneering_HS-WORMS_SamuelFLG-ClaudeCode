{"type": "index-pattern", "id": "keeper-deals-dataview", "attributes": {"title": "keeper-deals", "timeFieldName": "timestamp"}, "references": []}
{"type": "index-pattern", "id": "keeper-prices-dataview", "attributes": {"title": "keeper-prices", "timeFieldName": "timestamp"}, "references": []}
{"type": "lens", "id": "deals-total-metric", "attributes": {"title": "Total Deals", "description": "", "visualizationType": "lnsMetric", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1"], "columns": {"col1": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Total Deals", "sourceField": "___records___", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"layerId": "layer1", "layerType": "data", "metricAccessor": "col1"}}}, "references": [{"type": "index-pattern", "id": "keeper-deals-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "deals-avg-discount", "attributes": {"title": "Average Discount %", "description": "", "visualizationType": "lnsMetric", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1"], "columns": {"col1": {"operationType": "average", "dataType": "number", "isBucketed": false, "label": "Avg Discount %", "sourceField": "discount_percent", "params": {"format": {"id": "number", "params": {"decimals": 1, "suffix": " %"}}}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"layerId": "layer1", "layerType": "data", "metricAccessor": "col1"}}}, "references": [{"type": "index-pattern", "id": "keeper-deals-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "deals-by-domain-pie", "attributes": {"title": "Deals by Domain", "description": "", "visualizationType": "lnsPie", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "terms", "dataType": "string", "isBucketed": true, "label": "Domain", "sourceField": "domain", "params": {"size": 10, "orderBy": {"type": "column", "columnId": "col2"}, "orderDirection": "desc"}}, "col2": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Count", "sourceField": "___records___", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"shape": "pie", "layers": [{"layerId": "layer1", "layerType": "data", "primaryGroups": ["col1"], "metrics": ["col2"], "numberDisplay": "percent", "categoryDisplay": "default", "legendDisplay": "default"}]}}}, "references": [{"type": "index-pattern", "id": "keeper-deals-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "deals-discount-histogram", "attributes": {"title": "Discount Distribution", "description": "", "visualizationType": "lnsXY", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "range", "dataType": "number", "isBucketed": true, "label": "Discount %", "sourceField": "discount_percent", "params": {"type": "histogram", "ranges": [{"from": 0, "to": 10, "label": "0-10%"}, {"from": 10, "to": 20, "label": "10-20%"}, {"from": 20, "to": 30, "label": "20-30%"}, {"from": 30, "to": 40, "label": "30-40%"}, {"from": 40, "to": 50, "label": "40-50%"}, {"from": 50, "to": 60, "label": "50-60%"}, {"from": 60, "to": 70, "label": "60-70%"}, {"from": 70, "to": 80, "label": "70-80%"}], "maxBars": "auto"}}, "col2": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Count", "sourceField": "___records___", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"legend": {"isVisible": true, "position": "right"}, "preferredSeriesType": "bar_stacked", "layers": [{"layerId": "layer1", "layerType": "data", "accessors": ["col2"], "xAccessor": "col1", "seriesType": "bar_stacked"}], "valueLabels": "hide"}}}, "references": [{"type": "index-pattern", "id": "keeper-deals-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "deals-over-time-line", "attributes": {"title": "Deals over Time", "description": "", "visualizationType": "lnsXY", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "date_histogram", "dataType": "date", "isBucketed": true, "label": "Date", "sourceField": "timestamp", "params": {"interval": "1d"}}, "col2": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Deals", "sourceField": "___records___", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"legend": {"isVisible": true, "position": "right"}, "preferredSeriesType": "line", "layers": [{"layerId": "layer1", "layerType": "data", "accessors": ["col2"], "xAccessor": "col1", "seriesType": "line"}], "valueLabels": "hide"}}}, "references": [{"type": "index-pattern", "id": "keeper-deals-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "deals-latest-table", "attributes": {"title": "Top Deals by ASIN", "description": "", "visualizationType": "lnsDatatable", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2", "col3", "col4"], "columns": {"col1": {"operationType": "terms", "dataType": "string", "isBucketed": true, "label": "ASIN", "sourceField": "asin", "params": {"size": 20, "orderBy": {"type": "column", "columnId": "col2"}, "orderDirection": "desc"}}, "col2": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Deal Count", "sourceField": "___records___", "params": {}}, "col3": {"operationType": "average", "dataType": "number", "isBucketed": false, "label": "Avg Discount %", "sourceField": "discount_percent", "params": {}}, "col4": {"operationType": "max", "dataType": "number", "isBucketed": false, "label": "Max Discount %", "sourceField": "discount_percent", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"layerId": "layer1", "layerType": "data", "columns": [{"columnId": "col1", "isTransposed": false}, {"columnId": "col2", "isTransposed": false}, {"columnId": "col3", "isTransposed": false}, {"columnId": "col4", "isTransposed": false}], "paging": {"size": 20, "enabled": true}, "rowHeight": "single", "headerRowHeight": "single"}}}, "references": [{"type": "index-pattern", "id": "keeper-deals-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "prices-total-metric", "attributes": {"title": "Total Price Events", "description": "", "visualizationType": "lnsMetric", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1"], "columns": {"col1": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Total Price Events", "sourceField": "___records___", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"layerId": "layer1", "layerType": "data", "metricAccessor": "col1"}}}, "references": [{"type": "index-pattern", "id": "keeper-prices-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "prices-over-time-line", "attributes": {"title": "Price Trend", "description": "", "visualizationType": "lnsXY", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "date_histogram", "dataType": "date", "isBucketed": true, "label": "Date", "sourceField": "timestamp", "params": {"interval": "1d"}}, "col2": {"operationType": "average", "dataType": "number", "isBucketed": false, "label": "Avg Price", "sourceField": "current_price", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"legend": {"isVisible": true, "position": "right"}, "preferredSeriesType": "line", "layers": [{"layerId": "layer1", "layerType": "data", "accessors": ["col2"], "xAccessor": "col1", "seriesType": "line"}], "valueLabels": "hide"}}}, "references": [{"type": "index-pattern", "id": "keeper-prices-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "prices-by-domain-pie", "attributes": {"title": "Price Events by Domain", "description": "", "visualizationType": "lnsPie", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "terms", "dataType": "string", "isBucketed": true, "label": "Domain", "sourceField": "domain", "params": {"size": 10, "orderBy": {"type": "column", "columnId": "col2"}, "orderDirection": "desc"}}, "col2": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Count", "sourceField": "___records___", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"shape": "pie", "layers": [{"layerId": "layer1", "layerType": "data", "primaryGroups": ["col1"], "metrics": ["col2"], "numberDisplay": "percent", "categoryDisplay": "default", "legendDisplay": "default"}]}}}, "references": [{"type": "index-pattern", "id": "keeper-prices-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "prices-latest-table", "attributes": {"title": "Top Products by Price Events", "description": "", "visualizationType": "lnsDatatable", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2", "col3", "col4"], "columns": {"col1": {"operationType": "terms", "dataType": "string", "isBucketed": true, "label": "ASIN", "sourceField": "asin", "params": {"size": 20, "orderBy": {"type": "column", "columnId": "col2"}, "orderDirection": "desc"}}, "col2": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Price Events", "sourceField": "___records___", "params": {}}, "col3": {"operationType": "average", "dataType": "number", "isBucketed": false, "label": "Avg Price", "sourceField": "current_price", "params": {}}, "col4": {"operationType": "average", "dataType": "number", "isBucketed": false, "label": "Avg Change %", "sourceField": "price_change_percent", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"layerId": "layer1", "layerType": "data", "columns": [{"columnId": "col1", "isTransposed": false}, {"columnId": "col2", "isTransposed": false}, {"columnId": "col3", "isTransposed": false}, {"columnId": "col4", "isTransposed": false}], "paging": {"size": 20, "enabled": true}, "rowHeight": "single", "headerRowHeight": "single"}}}, "references": [{"type": "index-pattern", "id": "keeper-prices-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "visualization", "id": "deals-guide-markdown", "attributes": {"title": "Deal Dashboard Guide", "visState": "{\"title\": \"Deal Dashboard Guide\", \"type\": \"markdown\", \"params\": {\"markdown\": \"### Deal Overview \\u2014 Quick Guide\\n**KQL-Beispiele:** `discount_percent > 40` \\u00b7 `deal_score > 70` \\u00b7 `domain: de AND discount_percent > 30`\\n\\n**Discover:** Menu links *Discover* \\u2192 Data View `keeper-deals` \\u2192 KQL oben eingeben \\u00b7 **Zeitfilter:** Oben rechts (Standard: Last 30 days)\\n\\n**Saved Search:** *High Discount Deals (>40%)* \\u2014 vorgefertigt unter Discover\", \"openLinksInNewTab\": true, \"fontSize\": 12}, \"aggs\": []}", "kibanaSavedObjectMeta": {"searchSourceJSON": "{}"}}, "references": []}
{"type": "visualization", "id": "prices-guide-markdown", "attributes": {"title": "Price Monitor Guide", "visState": "{\"title\": \"Price Monitor Guide\", \"type\": \"markdown\", \"params\": {\"markdown\": \"### Price Monitor \\u2014 Quick Guide\\n**KQL-Beispiele:** `price_change_percent < -10` \\u00b7 `current_price < 30` \\u00b7 `asin: B0D*`\\n\\n**Discover:** Menu links *Discover* \\u2192 Data View `keeper-prices` \\u2192 KQL oben eingeben \\u00b7 **Zeitfilter:** Oben rechts (Standard: Last 30 days)\\n\\n**Saved Search:** *Recent Price Drops* \\u2014 vorgefertigt unter Discover\", \"openLinksInNewTab\": true, \"fontSize\": 12}, \"aggs\": []}", "kibanaSavedObjectMeta": {"searchSourceJSON": "{}"}}, "references": []}
{"type": "search", "id": "high-discount-deals-search", "attributes": {"title": "High Discount Deals (>40%)", "description": "Deals mit mehr als 40% Rabatt — sortiert nach Discount", "columns": ["asin", "title", "current_price", "discount_percent", "deal_score", "domain"], "sort": [["discount_percent", "desc"]], "kibanaSavedObjectMeta": {"searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"discount_percent > 40\"}, \"filter\": [], \"indexRefName\": \"kibanaSavedObjectMeta.searchSourceJSON.index\"}"}}, "references": [{"name": "kibanaSavedObjectMeta.searchSourceJSON.index", "type": "index-pattern", "id": "keeper-deals-dataview"}]}
{"type": "search", "id": "recent-price-drops-search", "attributes": {"title": "Recent Price Drops", "description": "Produkte mit Preissenkungen — sortiert nach groesster Senkung", "columns": ["asin", "product_title", "current_price", "price_change_percent", "domain"], "sort": [["price_change_percent", "asc"]], "kibanaSavedObjectMeta": {"searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"price_change_percent < 0\"}, \"filter\": [], \"indexRefName\": \"kibanaSavedObjectMeta.searchSourceJSON.index\"}"}}, "references": [{"name": "kibanaSavedObjectMeta.searchSourceJSON.index", "type": "index-pattern", "id": "keeper-prices-dataview"}]}
{"type": "dashboard", "id": "deal-overview-dashboard", "attributes": {"title": "Deal Overview", "description": "Keepa Deal Analytics — Discount distribution, domain breakdown, latest deals", "panelsJSON": "[{\"gridData\": {\"x\": 0, \"y\": 0, \"w\": 48, \"h\": 5, \"i\": \"p7\"}, \"panelIndex\": \"p7\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p7\"}, {\"gridData\": {\"x\": 0, \"y\": 5, \"w\": 12, \"h\": 8, \"i\": \"p1\"}, \"panelIndex\": \"p1\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p1\"}, {\"gridData\": {\"x\": 12, \"y\": 5, \"w\": 12, \"h\": 8, \"i\": \"p2\"}, \"panelIndex\": \"p2\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p2\"}, {\"gridData\": {\"x\": 24, \"y\": 5, \"w\": 24, \"h\": 15, \"i\": \"p3\"}, \"panelIndex\": \"p3\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p3\"}, {\"gridData\": {\"x\": 0, \"y\": 13, \"w\": 24, \"h\": 15, \"i\": \"p4\"}, \"panelIndex\": \"p4\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p4\"}, {\"gridData\": {\"x\": 0, \"y\": 28, \"w\": 48, \"h\": 15, \"i\": \"p5\"}, \"panelIndex\": \"p5\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p5\"}, {\"gridData\": {\"x\": 0, \"y\": 43, \"w\": 48, \"h\": 15, \"i\": \"p6\"}, \"panelIndex\": \"p6\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p6\"}]", "optionsJSON": "{\"useMargins\": true, \"syncColors\": false, \"syncCursor\": true, \"syncTooltips\": false, \"hidePanelTitles\": false}", "timeRestore": true, "kibanaSavedObjectMeta": {"searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"}}, "references": [{"name": "p1:panel_p1", "type": "lens", "id": "deals-total-metric"}, {"name": "p2:panel_p2", "type": "lens", "id": "deals-avg-discount"}, {"name": "p3:panel_p3", "type": "lens", "id": "deals-by-domain-pie"}, {"name": "p4:panel_p4", "type": "lens", "id": "deals-discount-histogram"}, {"name": "p5:panel_p5", "type": "lens", "id": "deals-over-time-line"}, {"name": "p6:panel_p6", "type": "lens", "id": "deals-latest-table"}, {"name": "p7:panel_p7", "type": "visualization", "id": "deals-guide-markdown"}]}
{"type": "dashboard", "id": "price-monitor-dashboard", "attributes": {"title": "Price Monitor", "description": "Keepa Price Tracking — Price trends, domain breakdown, latest changes", "panelsJSON": "[{\"gridData\": {\"x\": 0, \"y\": 0, \"w\": 48, \"h\": 5, \"i\": \"p5\"}, \"panelIndex\": \"p5\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p5\"}, {\"gridData\": {\"x\": 0, \"y\": 5, \"w\": 12, \"h\": 8, \"i\": \"p1\"}, \"panelIndex\": \"p1\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p1\"}, {\"gridData\": {\"x\": 12, \"y\": 5, \"w\": 36, \"h\": 15, \"i\": \"p2\"}, \"panelIndex\": \"p2\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p2\"}, {\"gridData\": {\"x\": 0, \"y\": 20, \"w\": 24, \"h\": 15, \"i\": \"p3\"}, \"panelIndex\": \"p3\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p3\"}, {\"gridData\": {\"x\": 0, \"y\": 35, \"w\": 48, \"h\": 15, \"i\": \"p4\"}, \"panelIndex\": \"p4\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p4\"}]", "optionsJSON": "{\"useMargins\": true, \"syncColors\": false, \"syncCursor\": true, \"syncTooltips\": false, \"hidePanelTitles\": false}", "timeRestore": true, "kibanaSavedObjectMeta": {"searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"}}, "references": [{"name": "p1:panel_p1", "type": "lens", "id": "prices-total-metric"}, {"name": "p2:panel_p2", "type": "lens", "id": "prices-over-time-line"}, {"name": "p3:panel_p3", "type": "lens", "id": "prices-by-domain-pie"}, {"name": "p4:panel_p4", "type": "lens", "id": "prices-latest-table"}, {"name": "p5:panel_p5", "type": "visualization", "id": "prices-guide-markdown"}]}
{"type": "visualization", "id": "pipeline-monitor-vega", "attributes": {"title": "Pipeline Monitor", "visState": "{\"title\": \"Pipeline Monitor\", \"type\": \"vega\", \"aggs\": [], \"params\": {\"spec\": \"{\\\"$schema\\\": \\\"https://vega.github.io/schema/vega/v5.json\\\", \\\"width\\\": 800, \\\"height\\\": 560, \\\"padding\\\": 10, \\\"autosize\\\": \\\"none\\\", \\\"background\\\": \\\"#1a1a2e\\\", \\\"data\\\": [{\\\"name\\\": \\\"nodes\\\", \\\"values\\\": [{\\\"id\\\": \\\"keepa\\\", \\\"label\\\": \\\"Keepa API\\\", \\\"x\\\": 400, \\\"y\\\": 50, \\\"color\\\": \\\"#FF9800\\\", \\\"detail\\\": \\\"Rate Limited, 200 tokens/min\\\"}, {\\\"id\\\": \\\"scheduler\\\", \\\"label\\\": \\\"Scheduler\\\", \\\"x\\\": 400, \\\"y\\\": 150, \\\"color\\\": \\\"#2196F3\\\", \\\"detail\\\": \\\"6h Loop, PriceMonitorScheduler\\\"}, {\\\"id\\\": \\\"kafka\\\", \\\"label\\\": \\\"Kafka\\\", \\\"x\\\": 250, \\\"y\\\": 260, \\\"color\\\": \\\"#4CAF50\\\", \\\"detail\\\": \\\"price-updates + deal-updates\\\"}, {\\\"id\\\": \\\"postgres\\\", \\\"label\\\": \\\"PostgreSQL\\\", \\\"x\\\": 550, \\\"y\\\": 260, \\\"color\\\": \\\"#336791\\\", \\\"detail\\\": \\\"8 Tabellen, port 5432\\\"}, {\\\"id\\\": \\\"elastic\\\", \\\"label\\\": \\\"Elasticsearch\\\", \\\"x\\\": 400, \\\"y\\\": 370, \\\"color\\\": \\\"#FDD835\\\", \\\"detail\\\": \\\"2 Indices, DE-Stemming\\\"}, {\\\"id\\\": \\\"fastapi\\\", \\\"label\\\": \\\"FastAPI\\\", \\\"x\\\": 400, \\\"y\\\": 470, \\\"color\\\": \\\"#009688\\\", \\\"detail\\\": \\\"17 Endpoints, port 8000\\\"}, {\\\"id\\\": \\\"agents\\\", \\\"label\\\": \\\"Agents\\\", \\\"x\\\": 200, \\\"y\\\": 470, \\\"color\\\": \\\"#9C27B0\\\", \\\"detail\\\": \\\"DealFinder, PriceMonitor, Alerts\\\"}]}, {\\\"name\\\": \\\"edges\\\", \\\"values\\\": [{\\\"x1\\\": 400, \\\"y1\\\": 80, \\\"x2\\\": 400, \\\"y2\\\": 120, \\\"label\\\": \\\"query_product()\\\", \\\"lx\\\": 460, \\\"ly\\\": 100}, {\\\"x1\\\": 400, \\\"y1\\\": 180, \\\"x2\\\": 250, \\\"y2\\\": 230, \\\"label\\\": \\\"Produce Events\\\", \\\"lx\\\": 305, \\\"ly\\\": 195}, {\\\"x1\\\": 400, \\\"y1\\\": 180, \\\"x2\\\": 550, \\\"y2\\\": 230, \\\"label\\\": \\\"Direct Writes\\\", \\\"lx\\\": 500, \\\"ly\\\": 195}, {\\\"x1\\\": 330, \\\"y1\\\": 260, \\\"x2\\\": 470, \\\"y2\\\": 260, \\\"label\\\": \\\"Consumer > DB\\\", \\\"lx\\\": 400, \\\"ly\\\": 248}, {\\\"x1\\\": 550, \\\"y1\\\": 290, \\\"x2\\\": 400, \\\"y2\\\": 340, \\\"label\\\": \\\"Index Updates\\\", \\\"lx\\\": 498, \\\"ly\\\": 310}, {\\\"x1\\\": 400, \\\"y1\\\": 400, \\\"x2\\\": 400, \\\"y2\\\": 440, \\\"label\\\": \\\"Search Queries\\\", \\\"lx\\\": 460, \\\"ly\\\": 420}, {\\\"x1\\\": 320, \\\"y1\\\": 470, \\\"x2\\\": 280, \\\"y2\\\": 470, \\\"label\\\": \\\"Business Logic\\\", \\\"lx\\\": 300, \\\"ly\\\": 455}]}, {\\\"name\\\": \\\"arrows\\\", \\\"values\\\": [{\\\"x\\\": 400, \\\"y\\\": 120, \\\"angle\\\": 180}, {\\\"x\\\": 250, \\\"y\\\": 230, \\\"angle\\\": 108}, {\\\"x\\\": 550, \\\"y\\\": 230, \\\"angle\\\": 252}, {\\\"x\\\": 470, \\\"y\\\": 260, \\\"angle\\\": 270}, {\\\"x\\\": 400, \\\"y\\\": 340, \\\"angle\\\": 112}, {\\\"x\\\": 400, \\\"y\\\": 440, \\\"angle\\\": 180}, {\\\"x\\\": 280, \\\"y\\\": 470, \\\"angle\\\": 90}]}], \\\"marks\\\": [{\\\"type\\\": \\\"rule\\\", \\\"from\\\": {\\\"data\\\": \\\"edges\\\"}, \\\"encode\\\": {\\\"enter\\\": {\\\"x\\\": {\\\"field\\\": \\\"x1\\\"}, \\\"y\\\": {\\\"field\\\": \\\"y1\\\"}, \\\"x2\\\": {\\\"field\\\": \\\"x2\\\"}, \\\"y2\\\": {\\\"field\\\": \\\"y2\\\"}, \\\"stroke\\\": {\\\"value\\\": \\\"#666\\\"}, \\\"strokeWidth\\\": {\\\"value\\\": 2}, \\\"strokeOpacity\\\": {\\\"value\\\": 0.8}}}}, {\\\"type\\\": \\\"symbol\\\", \\\"from\\\": {\\\"data\\\": \\\"arrows\\\"}, \\\"encode\\\": {\\\"enter\\\": {\\\"x\\\": {\\\"field\\\": \\\"x\\\"}, \\\"y\\\": {\\\"field\\\": \\\"y\\\"}, \\\"shape\\\": {\\\"value\\\": \\\"triangle-up\\\"}, \\\"size\\\": {\\\"value\\\": 80}, \\\"angle\\\": {\\\"field\\\": \\\"angle\\\"}, \\\"fill\\\": {\\\"value\\\": \\\"#888\\\"}, \\\"fillOpacity\\\": {\\\"value\\\": 0.9}}}}, {\\\"type\\\": \\\"rect\\\", \\\"from\\\": {\\\"data\\\": \\\"nodes\\\"}, \\\"encode\\\": {\\\"enter\\\": {\\\"x\\\": {\\\"signal\\\": \\\"datum.x - 80\\\"}, \\\"y\\\": {\\\"signal\\\": \\\"datum.y - 30\\\"}, \\\"width\\\": {\\\"value\\\": 160}, \\\"height\\\": {\\\"value\\\": 60}, \\\"fill\\\": {\\\"field\\\": \\\"color\\\"}, \\\"cornerRadius\\\": {\\\"value\\\": 8}, \\\"opacity\\\": {\\\"value\\\": 0.9}}}}, {\\\"type\\\": \\\"text\\\", \\\"from\\\": {\\\"data\\\": \\\"nodes\\\"}, \\\"encode\\\": {\\\"enter\\\": {\\\"x\\\": {\\\"field\\\": \\\"x\\\"}, \\\"y\\\": {\\\"signal\\\": \\\"datum.y - 5\\\"}, \\\"text\\\": {\\\"field\\\": \\\"label\\\"}, \\\"fill\\\": {\\\"value\\\": \\\"#ffffff\\\"}, \\\"fontSize\\\": {\\\"value\\\": 14}, \\\"fontWeight\\\": {\\\"value\\\": \\\"bold\\\"}, \\\"align\\\": {\\\"value\\\": \\\"center\\\"}, \\\"baseline\\\": {\\\"value\\\": \\\"middle\\\"}}}}, {\\\"type\\\": \\\"text\\\", \\\"from\\\": {\\\"data\\\": \\\"nodes\\\"}, \\\"encode\\\": {\\\"enter\\\": {\\\"x\\\": {\\\"field\\\": \\\"x\\\"}, \\\"y\\\": {\\\"signal\\\": \\\"datum.y + 14\\\"}, \\\"text\\\": {\\\"field\\\": \\\"detail\\\"}, \\\"fill\\\": {\\\"value\\\": \\\"rgba(255,255,255,0.6)\\\"}, \\\"fontSize\\\": {\\\"value\\\": 9}, \\\"align\\\": {\\\"value\\\": \\\"center\\\"}, \\\"baseline\\\": {\\\"value\\\": \\\"middle\\\"}}}}, {\\\"type\\\": \\\"text\\\", \\\"from\\\": {\\\"data\\\": \\\"edges\\\"}, \\\"encode\\\": {\\\"enter\\\": {\\\"x\\\": {\\\"field\\\": \\\"lx\\\"}, \\\"y\\\": {\\\"field\\\": \\\"ly\\\"}, \\\"text\\\": {\\\"field\\\": \\\"label\\\"}, \\\"fill\\\": {\\\"value\\\": \\\"rgba(255,255,255,0.5)\\\"}, \\\"fontSize\\\": {\\\"value\\\": 9}, \\\"fontStyle\\\": {\\\"value\\\": \\\"italic\\\"}, \\\"align\\\": {\\\"value\\\": \\\"center\\\"}, \\\"baseline\\\": {\\\"value\\\": \\\"middle\\\"}}}}]}\"}}", "kibanaSavedObjectMeta": {"searchSourceJSON": "{}"}}, "references": []}
{"type": "dashboard", "id": "keepa-pipeline-monitor", "attributes": {"title": "Keepa Pipeline Monitor", "description": "End-to-End Datenfluss-Visualisierung der Keepa-Pipeline (Vega)", "panelsJSON": "[{\"gridData\": {\"x\": 0, \"y\": 0, \"w\": 48, \"h\": 30, \"i\": \"p1\"}, \"panelIndex\": \"p1\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p1\"}]", "optionsJSON": "{\"useMargins\": true, \"syncColors\": false, \"syncCursor\": true, \"syncTooltips\": false, \"hidePanelTitles\": false}", "timeRestore": false, "kibanaSavedObjectMeta": {"searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"}}, "references": [{"name": "p1:panel_p1", "type": "visualization", "id": "pipeline-monitor-vega"}]}
{"type": "index-pattern", "id": "keeper-metrics-dataview", "attributes": {"title": "keeper-metrics", "timeFieldName": "timestamp"}, "references": []}
{"type": "lens", "id": "metrics-total-api-calls", "attributes": {"title": "Total API Calls", "description": "", "visualizationType": "lnsMetric", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1"], "columns": {"col1": {"operationType": "count", "dataType": "number", "isBucketed": false, "label": "Total API Calls", "sourceField": "___records___", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"layerId": "layer1", "layerType": "data", "metricAccessor": "col1"}}}, "references": [{"type": "index-pattern", "id": "keeper-metrics-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "metrics-total-tokens-consumed", "attributes": {"title": "Tokens Consumed (Total)", "description": "", "visualizationType": "lnsMetric", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1"], "columns": {"col1": {"operationType": "sum", "dataType": "number", "isBucketed": false, "label": "Tokens Consumed", "sourceField": "tokens_consumed", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"layerId": "layer1", "layerType": "data", "metricAccessor": "col1"}}}, "references": [{"type": "index-pattern", "id": "keeper-metrics-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "metrics-tokens-left-line", "attributes": {"title": "Tokens Left over Time", "description": "", "visualizationType": "lnsXY", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "date_histogram", "dataType": "date", "isBucketed": true, "label": "Time", "sourceField": "timestamp", "params": {"interval": "1h"}}, "col2": {"operationType": "min", "dataType": "number", "isBucketed": false, "label": "Tokens Left (min)", "sourceField": "tokens_left", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"legend": {"isVisible": true, "position": "right"}, "preferredSeriesType": "area", "layers": [{"layerId": "layer1", "layerType": "data", "accessors": ["col2"], "xAccessor": "col1", "seriesType": "area"}], "valueLabels": "hide"}}}, "references": [{"type": "index-pattern", "id": "keeper-metrics-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "metrics-consumed-over-time", "attributes": {"title": "Tokens Consumed per Hour", "description": "", "visualizationType": "lnsXY", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "date_histogram", "dataType": "date", "isBucketed": true, "label": "Time", "sourceField": "timestamp", "params": {"interval": "1h"}}, "col2": {"operationType": "sum", "dataType": "number", "isBucketed": false, "label": "Tokens Consumed", "sourceField": "tokens_consumed", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"legend": {"isVisible": true, "position": "right"}, "preferredSeriesType": "bar_stacked", "layers": [{"layerId": "layer1", "layerType": "data", "accessors": ["col2"], "xAccessor": "col1", "seriesType": "bar_stacked"}], "valueLabels": "hide"}}}, "references": [{"type": "index-pattern", "id": "keeper-metrics-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "metrics-by-operation-pie", "attributes": {"title": "Token Cost by Operation", "description": "", "visualizationType": "lnsPie", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "terms", "dataType": "string", "isBucketed": true, "label": "Operation", "sourceField": "operation", "params": {"size": 10, "orderBy": {"type": "column", "columnId": "col2"}, "orderDirection": "desc"}}, "col2": {"operationType": "sum", "dataType": "number", "isBucketed": false, "label": "Tokens", "sourceField": "tokens_consumed", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"shape": "pie", "layers": [{"layerId": "layer1", "layerType": "data", "primaryGroups": ["col1"], "metrics": ["col2"], "numberDisplay": "percent", "categoryDisplay": "default", "legendDisplay": "default"}]}}}, "references": [{"type": "index-pattern", "id": "keeper-metrics-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "lens", "id": "metrics-response-time-line", "attributes": {"title": "API Response Time (ms)", "description": "", "visualizationType": "lnsXY", "state": {"datasourceStates": {"formBased": {"layers": {"layer1": {"columnOrder": ["col1", "col2"], "columns": {"col1": {"operationType": "date_histogram", "dataType": "date", "isBucketed": true, "label": "Time", "sourceField": "timestamp", "params": {"interval": "1h"}}, "col2": {"operationType": "average", "dataType": "number", "isBucketed": false, "label": "Avg Response Time (ms)", "sourceField": "response_time_ms", "params": {}}}, "incompleteColumns": {}}}}}, "filters": [], "query": {"language": "kuery", "query": ""}, "adHocDataViews": {}, "visualization": {"legend": {"isVisible": true, "position": "right"}, "preferredSeriesType": "line", "layers": [{"layerId": "layer1", "layerType": "data", "accessors": ["col2"], "xAccessor": "col1", "seriesType": "line"}], "valueLabels": "hide"}}}, "references": [{"type": "index-pattern", "id": "keeper-metrics-dataview", "name": "indexpattern-datasource-layer-layer1"}], "typeMigrationVersion": "8.9.0"}
{"type": "visualization", "id": "metrics-guide-markdown", "attributes": {"title": "Token Budget Guide", "visState": "{\"title\": \"Token Budget Guide\", \"type\": \"markdown\", \"params\": {\"markdown\": \"### Keepa Token Budget \\u2014 Dashboard\\n**Plan:** 20 tokens/min = ~28.800/Tag \\u00b7 **Kosten:** query=15, deals=5, bestsellers=3\\n\\n**KQL:** `operation: query` \\u00b7 `tokens_left < 100` \\u00b7 `success: false`\\n\\n**Formel:** Bei 31 ASINs \\u00d7 15 Tokens \\u00d7 4 Checks/Tag = ~1.860 Tokens/Tag (6.5% vom Budget)\", \"openLinksInNewTab\": true, \"fontSize\": 12}, \"aggs\": []}", "kibanaSavedObjectMeta": {"searchSourceJSON": "{}"}}, "references": []}
{"type": "dashboard", "id": "token-budget-dashboard", "attributes": {"title": "Token Budget", "description": "Keepa API Token Verbrauch, Budget-Trend und Kosten nach Operation", "panelsJSON": "[{\"gridData\": {\"x\": 0, \"y\": 0, \"w\": 48, \"h\": 5, \"i\": \"p1\"}, \"panelIndex\": \"p1\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p1\"}, {\"gridData\": {\"x\": 0, \"y\": 5, \"w\": 12, \"h\": 8, \"i\": \"p2\"}, \"panelIndex\": \"p2\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p2\"}, {\"gridData\": {\"x\": 12, \"y\": 5, \"w\": 12, \"h\": 8, \"i\": \"p3\"}, \"panelIndex\": \"p3\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p3\"}, {\"gridData\": {\"x\": 24, \"y\": 5, \"w\": 24, \"h\": 15, \"i\": \"p4\"}, \"panelIndex\": \"p4\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p4\"}, {\"gridData\": {\"x\": 0, \"y\": 13, \"w\": 24, \"h\": 15, \"i\": \"p5\"}, \"panelIndex\": \"p5\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p5\"}, {\"gridData\": {\"x\": 0, \"y\": 28, \"w\": 48, \"h\": 15, \"i\": \"p6\"}, \"panelIndex\": \"p6\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p6\"}, {\"gridData\": {\"x\": 24, \"y\": 20, \"w\": 24, \"h\": 15, \"i\": \"p7\"}, \"panelIndex\": \"p7\", \"embeddableConfig\": {\"enhancements\": {}}, \"panelRefName\": \"panel_p7\"}]", "optionsJSON": "{\"useMargins\": true, \"syncColors\": false, \"syncCursor\": true, \"syncTooltips\": false, \"hidePanelTitles\": false}", "timeRestore": true, "kibanaSavedObjectMeta": {"searchSourceJSON": "{\"query\": {\"language\": \"kuery\", \"query\": \"\"}, \"filter\": []}"}}, "references": [{"name": "p1:panel_p1", "type": "visualization", "id": "metrics-guide-markdown"}, {"name": "p2:panel_p2", "type": "lens", "id": "metrics-total-api-calls"}, {"name": "p3:panel_p3", "type": "lens", "id": "metrics-total-tokens-consumed"}, {"name": "p4:panel_p4", "type": "lens", "id": "metrics-by-operation-pie"}, {"name": "p5:panel_p5", "type": "lens", "id": "metrics-tokens-left-line"}, {"name": "p6:panel_p6", "type": "lens", "id": "metrics-consumed-over-time"}, {"name": "p7:panel_p7", "type": "lens", "id": "metrics-response-time-line"}]}
